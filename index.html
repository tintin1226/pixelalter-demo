<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PixelArter</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="profile.css">
    <link rel="stylesheet" href="assets.css">
    <link rel="stylesheet" href="pixel.css">
    <link rel="stylesheet" href="2d.css">
    <link rel="stylesheet" href="3d.css">
    <link rel="stylesheet" href="about.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
</head>

<body>
    <header>
        <img src="assets/logo.png" class="logo" alt="Logo">
        <div class="header-actions" style="padding-right: 1rem;">
            <button class="subscribe-btn">Subscribe</button>
            <i class="bi bi-person-circle account-icon" id="profile"></i>
            <button class="hamburger">&#9776;</button>
        </div>

        <nav class="mobile-nav">
            <a href="#" data-page="home">Home</a>
            <a href="#" data-page="products">Products</a>
            <a href="#" data-page="projects">My projects</a>
            <a href="#" data-page="about">About</a>
            <a href="#" data-page="logout">Logout</a>
        </nav>
    </header>

    <main id="app">
    </main>

    <script>
        const hamburger = document.querySelector('.hamburger');
        const mobileNav = document.querySelector('.mobile-nav');

        hamburger.addEventListener('click', () => {
            mobileNav.classList.toggle('show');
        });

        // Close mobile nav when clicking outside
        document.addEventListener('click', (e) => {
            if (!mobileNav.contains(e.target) && !hamburger.contains(e.target)) {
                mobileNav.classList.remove('show');
            }
        });

        const navLinks = document.querySelectorAll('.mobile-nav a');

        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault(); // stop default page reload
                const page = link.dataset.page;
                loadPage(page); // call your SPA function
                mobileNav.classList.remove('show'); // close mobile nav
            });
        });

        function loadPage(page) {
            switch (page) {
                case 'home':
                    loadIntro();
                    break;
                case 'products':
                    loadAssetsPage();
                    break;
                case 'projects':
                    loadProjectsPage();
                    break;
                case 'logout':
                    logoutUser();
                    break;
                case 'profile':
                    loadUserProfile();
                    break;
                case 'about':
                    loadAbout();
            }
        }

        const profileIcon = document.getElementById('profile');
        profileIcon.addEventListener('click', () => {
            loadPage('profile');
        });


        // Function to show Premium Subscription modal
        function showPremiumModal() {
            if (document.getElementById('premium-modal')) return;

            const modal = document.createElement('div');
            modal.id = 'premium-modal';
            modal.innerHTML = `
    <div class="modal-overlay"></div>
    <div class="modal-content">
      <button class="close-modal"><i class="bi bi-x-lg"></i></button>
      <h2>Premium Subscription</h2>

      <div class="tier-select">
        <button class="tier-btn active" data-tier="starter">Starter</button>
        <button class="tier-btn" data-tier="pro">Pro</button>
        <button class="tier-btn" data-tier="studio">Studio</button>
      </div>

      <div class="plan-toggle">
        <button class="plan-btn active" data-plan="monthly">Monthly</button>
        <button class="plan-btn" data-plan="yearly">Yearly</button>
      </div>

      <div class="plan-price" id="plan-price">₱199 / month</div>

      <ul class="premium-perks" id="premium-perks">
        <li><i class="bi bi-check-circle-fill"></i> Access to selected tier assets</li>
        <li><i class="bi bi-check-circle-fill"></i> Customizable & optimized assets</li>
        <li><i class="bi bi-check-circle-fill"></i> Priority support</li>
      </ul>

      <button class="subscribe-now">Subscribe Now</button>
    </div>
  `;
            document.body.appendChild(modal);

            const overlay = modal.querySelector('.modal-overlay');
            const closeBtn = modal.querySelector('.close-modal');
            const planBtns = modal.querySelectorAll('.plan-btn');
            const tierBtns = modal.querySelectorAll('.tier-btn');
            const price = modal.querySelector('#plan-price');
            const perks = modal.querySelector('#premium-perks');

            const tierPrices = {
                starter: { monthly: 199, yearly: 1990 },
                pro: { monthly: 499, yearly: 4990 },
                studio: { monthly: 1200, yearly: 12000 }
            };

            const tierPerks = {
                starter: [
                    'Access to starter assets',
                    'Basic customization',
                    'Monthly free assets'
                ],
                pro: [
                    'Access to all assets',
                    'Full customization',
                    'Priority support',
                    'Unlimited downloads'
                ],
                studio: [
                    'All pro perks',
                    'Commercial licenses included',
                    'Exclusive asset packs',
                    'Dedicated support'
                ]
            };

            // Close modal
            overlay.addEventListener('click', () => modal.remove());
            closeBtn.addEventListener('click', () => modal.remove());

            let selectedTier = 'starter';
            let selectedPlan = 'monthly';

            // Tier selection
            tierBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    tierBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    selectedTier = btn.dataset.tier;
                    updatePriceAndPerks();
                });
            });

            // Plan toggle
            planBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    planBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    selectedPlan = btn.dataset.plan;
                    updatePriceAndPerks();
                });
            });

            function updatePriceAndPerks() {
                price.textContent = `₱${tierPrices[selectedTier][selectedPlan]} / ${selectedPlan}`;
                perks.innerHTML = tierPerks[selectedTier].map(p => `<li><i class="bi bi-check-circle-fill"></i> ${p}</li>`).join('');
            }

            // Subscribe action
            modal.querySelector('.subscribe-now').addEventListener('click', () => {
                alert(`Subscribed to ${selectedTier.toUpperCase()} (${selectedPlan}) plan!`);
                modal.remove();
            });
        }

        // Hook it up
        document.querySelector('.subscribe-btn').addEventListener('click', showPremiumModal);


    </script>
    <script src="index.js"></script>
    <script src="profile.js"></script>
    <script src="assets.js"></script>
    <script src="pixel.js"></script>
    <script src="2d.js"></script>
    <script src="3d.js"></script>
    <script src="projects.js"></script>
    <script src="about.js"></script>
</body>

</html>


